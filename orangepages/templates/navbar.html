
 <!-- Navigation -->
<nav class="navbar main-nav" style="background-color: white;">
  <div class="row w-100">
    <div class="col" style="-ms-flex: 0 0 40px; flex: 0 0 40px;">
      <button type="button" id="sidebarCollapse" class="btn" style="background-color: white; color: var(--new-orange); outline: none;">
          <i class="fas fa-align-left"></i>
       </button>
    </div>

    <div class="col" style="text-align: center; max-width: calc(100% - 80px);">
      <form action="/search" class="navbar-form navbar-search text-center mx-auto" method="get" style="display:block; width:500px; max-width: 100%">
        <div class="row">
          <div class="col">
            <input class="navbar-search form-control w-100" type="text" id="autocomplete" name="query" placeholder="Search OrangePages" aria-label="Search">
          </div>
          <div class="col" style="-ms-flex: 0 0 20px; flex: 0 0 20px; margin-left: -20px">     
            <button type="submit" class="btn" style="background-color: white; color: var(--new-orange); outline: none;">
              <i class="fas fa-search"></i>
            </button>
          </div>
        </div>
      </form>
    </div>

    <div class="col" style="-ms-flex: 0 0 20px; flex: 0 0 20px;"></div>

  </div>
</nav>

<script>
  jQuery.curCSS = function(element, prop, val) {
    return jQuery(element).css(prop, val);
  };
  jQuery.ui.autocomplete.prototype._resizeMenu = function () {
  var ul = this.menu.element;
  ul.outerWidth(this.element.outerWidth());
  }

  $(document).ready(function(){
 $('#autocomplete').autocomplete({
  source:function(request, response) {
            $.getJSON("{{url_for('testsearch.autocomplete')}}",{
                query: request.term, 
            }, function(data) {
                response(data.results); // matching_results from jsonify
            });
        },  
  select : function(event, ui){
        // You may need to change this part, as I don't know the exact values:
        window.location.href = "/profile/" + ui.item.value;
    }
 })
});

</script>




