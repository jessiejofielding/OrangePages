<!DOCTYPE html>
<html class="no-js" lang="en">

<script src="http://ajax.googleapis.com/ajax/libs/jquery/1.9.1/jquery.min.js"></script>
<script src='http://ajax.googleapis.com/ajax/libs/jqueryui/1.8.5/jquery-ui.min.js'></script>

<body>

    <head>
        <title>{{user.firstname}} {{user.lastname}} - Orange Pages</title>
        <meta http-equiv="x-ua-compatible" content="ie=edge">
        <meta name="viewport" content="width=device-width, initial-scale=1.0" />

        <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Raleway:400,800">
        <link rel='stylesheet' href="https://maxcdn.bootstrapcdn.com/font-awesome/4.7.0/css/font-awesome.min.css">
        <link rel="stylesheet" href="/static/css/bootstrap.css" type="text/css" />
        <link rel="stylesheet" href="/static/css/styles.css" type="text/css" />
        <link rel="stylesheet" href="/static/css/sticky-footer-navbar.css" rel="stylesheet" />
        <link rel="stylesheet" href="/static/css/feed.css" rel="stylesheet" />
    </head>

    {% include 'navbar.html' %}

    <script>
        $(document).ready(function () {
            $('.js-edit').on('click', function () {
                var $form = $(this).closest('form');
                $form.toggleClass('is-readonly is-editing');
                var isReadonly = $form.hasClass('is-readonly');
                $form.find('input,select,textarea').prop('disabled', isReadonly);
            });
        });
    </script>


    <div class="container">
        <div class="row">
            <div class="col-lg-4">
                <div id="user-box" class="card" style="width: 100%">
                    <div class="card-body text-center">
                      <!-- @frontend -->
                      <img src='{{user.get_img()}}' width=150 height=auto alt="failed to load">
                        <!-- {%if user._pic is none:%}
                        <i class="fa fa-user fa-5x"></i>
                        {%else:%}
                        <img src='https://res.cloudinary.com/hcfgcbhqf/image/upload/c_fill,h_120,w_120,g_face,r_10/{{user._pic}}.png'
                            alt="failed to load">
                        {%endif%} -->
                        <br>
                        <br>
                        <h3 class="card-title"><strong>{{user.firstname}} {{user.lastname}}</strong></h3>
                        <p class="card-text">netid: {{user.uid}}</p>
                    </div>
                </div>
            </div>
            <div class="col">
                <form id="msform" class="is-readonly" action="/edit-user" method="post" enctype=multipart/form-data>
                    <fieldset>
                        <h2 class="fs-title">Your Details</h2>
                        <!-- @frontend -->
                        <h3>upload pic:</h3>
                        <div class="custom-file">
                          <input type="file" class="custom-file-input" name="image" id="image">
                          <label class="custom-file-label" for="image">Select image...</label>
                        </div>

                        <div class="row">
                            <div class="col-lg-3 text-left">First Name:</div>
                            <div class="col-lg-9">
                                <input type="text" class="form-control is-disabled" name="firstname"
                                    id="exampleInputPassword1" placeholder="First Name" value="{{user.firstname}}"
                                    disabled>
                            </div>
                        </div>
                        <div class="row">
                            <div class="col-lg-3 text-left">Last Name:</div>
                            <div class="col-lg-9">
                                <input type="text" class="form-control is-disabled" name="lastname"
                                    id="exampleInputPassword1" placeholder="Last Name" value="{{user.lastname}}"
                                    disabled>
                            </div>
                        </div>
                        <div class="row">
                            <div class="col-lg-3 text-left">Email:</div>
                            <div class="col-lg-9">
                                <input type="text" class="form-control is-disabled" name="email"
                                    id="exampleInputPassword1" placeholder="Email" value="{{user.email}}" disabled>
                            </div>
                        </div>
                        <div class="row">
                            <div class="col-lg-3 text-left">Class Year:</div>
                            <div class="col-lg-9">
                                <input type="text" class="form-control is-disabled" name="year"
                                    id="exampleInputPassword1" placeholder="Class Year" value="{{user.year}}" disabled>
                            </div>
                        </div>
                        <div class="row">
                            <div class="col-lg-3 text-left">Major:</div>
                            <div class="col-lg-9">
                                <input type="text" class="form-control is-disabled" name="major"
                                    id="exampleInputPassword1" placeholder="Major" value="{{user.major}}" disabled>
                            </div>
                        </div>
                        <div class="row">
                            <div class="col-lg-3 text-left">Hometown:</div>
                            <div class="col-lg-9">
                                <input type="text" class="form-control is-disabled" name="hometown"
                                    id="exampleInputPassword1" placeholder="Hometown" value="{{user.hometown}}"
                                    disabled>
                            </div>
                        </div>
                        <div class="row">
                            <div class="col-lg-3 text-left">State:</div>
                            <div class="col-lg-9">
                                <input type="text" class="form-control is-disabled" name="state"
                                    id="exampleInputPassword1" placeholder="State" value="{{user.state}}"
                                    disabled>
                            </div>
                        </div>
                        <div class="row">
                            <div class="col-lg-3 text-left">Country:</div>
                            <div class="col-lg-9">
                                <input type="text" class="form-control is-disabled" name="country"
                                    id="exampleInputPassword1" placeholder="Country" value="{{user.country}}" disabled>
                            </div>
                        </div>
                        <div class="row">
                            <div class="col-lg-3 text-left">Room:</div>
                            <div class="col-lg-9">
                                <input type="text" class="form-control is-disabled" name="room"
                                    id="exampleInputPassword1" placeholder="Room" value="{{user.room}}" disabled>
                            </div>
                        </div>
                        <div class="row">
                            <div class="col-lg-3 text-left">Building:</div>
                            <div class="col-lg-9">
                                <input type="text" class="form-control is-disabled" name="building"
                                    id="exampleInputPassword1" placeholder="Building" value="{{user.building}}"
                                    disabled>
                            </div>
                        </div>
                        <button type="button" class="btn btn-default btn-edit js-edit">Edit</button>
                        <button type="submit" class="btn btn-default btn-save js-save">Save</button>
                    </fieldset>
                </form>
            </div>
        </div>
    </div>

    {% include 'footer.html' %}

</html>
